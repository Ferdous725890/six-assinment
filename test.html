<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peddy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.12/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="lato-fronts">
    <header class="container mx-auto bd">
        <section class="bg-gray-200">
            <nav class="flex w-11/12 mx-auto items-center justify-between mt-14 mb-14 bd">
                <div class="flex items-center">
                    <img class="mr-2" src="images/logo.webp" alt="">
                    <h1 class="text-3xl font-black">Peddy</h1>
                </div>
                <div class="bd">
                    <ul class="flex items-center font-color text-base font-normal bd">
                        <li><a class="mr-8" href="">Home</a></li>
                        <li><a class="mr-8" href="">Shop</a></li>
                        <li><a class="mr-8" href="">Contact</a></li>
                    </ul>
                </div>
            </nav>
        </section>

        <div class="mx-auto w-11/12">
            <div class="max-w-[752px] mx-auto">
                <h2 class="text-center text-3xl font-bold text-[#13131399]">Bringing Families Together</h2>
                <h1 class="text-7xl font-bold text-center text-[#131313] mt-5">Your Path to Adoption Starts Here</h1>
                <p class="text-base font-normal font-color text-center mt-6 mb-8">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.</p>
                <div class="flex justify-center mb-12">
                    <button class="bg-[rgb(14,122,129)] px-12 py-3 rounded-lg text-white">View More</button>
                </div>
                <div>
                    <img class="bd" src="images/pet.webp" alt="">
                </div>
            </div>
        </div>
    </header>

    <main class="container bd mx-auto w-11/12">
        <div id="categories" class="flex justify-between mx-auto by"></div>

        <div class="flex gap-5">
            <div id="All-Pets" class="grid grid-cols-2 gap-5 max-w-[780px] bd"></div>
        </div>
    </main>

    <dialog id="my_modal_5" class="modal modal-bottom sm:modal-middle">
        <div class="modal-box">
            <div id="modal-content"></div>
            <div class="modal-action">
                <form method="dialog">
                    <button class="btn">Close</button>
                </form>
            </div>
        </div>
    </dialog>

    <footer class="bg-[#131313]">
        <section class="container bd mx-auto mt-16">
            <div class="w-11/12 mx-auto bd grid grid-cols-3 mt-24 mb-24">
                <div>
                    <div class="flex items-center mb-5">
                        <img class="mr-2" src="images/logo.webp" alt="">
                        <h1 class="text-3xl text-[rgba(255,255,255,0.9)]">Peddy</h1>
                    </div>
                    <div class="text-[rgba(255,255,255,0.9)] text-base font-normal bd mb-4">
                        <p>Location: av. Washington 165, NY CA 54003</p>
                        <p>Phone: +31 85 964 47 25</p>
                        <p>Email: info@yourdomain.com</p>
                        <p>Openings hours: 9.00 AM - 5.00 PM</p>
                    </div>
                </div>

                <div>
                    <h2 class="text-[rgba(255,255,255,0.9)] text-lg font-bold mb-7">Useful Links</h2>
                    <ul class="font-color text-base font-normal bd text-[rgba(255,255,255,0.9)]">
                        <li><a href="">Home</a></li>
                        <li><a href="">Shop</a></li>
                        <li><a href="">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h2 class="text-[rgba(255,255,255,0.9)] text-lg font-bold mb-7">Drop a Message</h2>
                    <label class="input input-bordered flex items-center gap-2 mb-4">
                        <input type="email" class="grow" placeholder="Enter your email" />
                    </label>
                    <div>
                        <button class="bg-[rgb(14,122,129)] px-10 py-2 rounded-lg text-white">View More</button>
                    </div>
                </div>
            </div>
        </section>
    </footer>

    <script>
        const loadCategoriesData = () => {
            fetch('https://openapi.programming-hero.com/api/peddy/categories')
                .then(res => res.json())
                .then(data => displayShow(data.categories))
                .catch(error => console.log(error));
        };

        const loadAllPetsData = () => {
            fetch('https://openapi.programming-hero.com/api/peddy/pets')
                .then(res => res.json())
                .then(data => displayAllPetsData(data.pets))
                .catch(error => console.log(error));
        };

        const displayAllPetsData = (pets) => {
            const petsAllData = document.getElementById('All-Pets');
            petsAllData.innerHTML = ""; // Clear previous pets

            pets.forEach(pet => {
                const card = document.createElement('div');
                card.classList = 'card';
                card.innerHTML = `
                    <div class="card glass by">
                        <figure>
                            <img class='w-full object-cover' src="${pet.image}" alt="Image of ${pet.breed}" />
                        </figure>
                        <div class="card-body">
                            <p class="card-title">${pet.pet_name}</p>
                            <p>Breed: ${pet.breed || 'Not found!'}</p>
                            <div class='flex justify-between'>
                                <button onclick="likeBtn('${pet.petId}', '${pet.image}')" class="text-[18px] text-btn-primary px-5 py-2 border border-solid border-[rgb(14, 122, 129, 0.15)] rounded-[8px] text-xl font-bold">
                                    <i class="fa-regular fa-thumbs-up"></i>
                                </button>
                                <button class="btn">Adopt</button>
                                <button onclick="loadDetails(${pet.petId})" class="btn">Details</button>
                            </div>
                        </div>
                    </div>
                `;
                petsAllData.appendChild(card);
            });
        };

        const likeBtn = (petId, imageUrl) => {
            const petsAllData = document.getElementById('All-Pets');
            const likedPetDiv = document.createElement('div');
            likedPetDiv.className = "liked-pet mb-4";
            likedPetDiv.innerHTML = `
                <img class="rounded-[8px] h-full w-full" src="${imageUrl}" alt="Liked pet image">
            `;
            petsAllData.appendChild(likedPetDiv);
        };

        const displayShow = (categories) => {
            const categoryContainer = document.getElementById('categories');
            categories.forEach(item => {
                const buttonContainer = document.createElement('div');
                buttonContainer.innerHTML = `
                    <button onclick="loadCategoryPet('${item.category}')" class='btn category-btn'>
                    ${item.category}
                    </button>
                `;
                categoryContainer.appendChild(buttonContainer);
            });
        };

        loadCategoriesData();
        loadAllPetsData();
    </script>
</body>

</html>
